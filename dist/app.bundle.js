(()=>{var e={829:()=>{!function(){for(var e=[],t=[],a=0;a<boro.features.length;a++)null!=boro.features[a].properties.boro&&e.push(boro.features[a].properties.boro);for(a=0;a<boro.features.length;a++)null!=boro.features[a].properties.boroID&&t.push(boro.features[a].properties.boroID);var r=t.reduce((function(t,a,r){return t[e[r]]=a,t}),{}),o=$(".srchDrpBoro");$.each(r,(function(e,t){o.append('<div class = option><input type=radio class="radio srchSlctBoro" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var s=[];for(a=0;a<congdist.features.length;a++)null!=congdist.features[a].properties.CD&&s.push(congdist.features[a].properties.CD);var n=$(".srchDrpCongDist");$.each(s,(function(e,t){n.append('<div class = option><input type=radio class="radio srchSlctCongDist" value='+t+"><label>"+t+"</label></div>")}));var i=[],l=[];for(a=0;a<zcta.features.length;a++)null!=zcta.features[a].properties.zcta&&i.push(zcta.features[a].properties.zcta);for(a=0;a<zcta.features.length;a++)null!=zcta.features[a].properties.zctaID&&l.push(zcta.features[a].properties.zctaID);var c=l.reduce((function(e,t,a){return e[i[a]]=t,e}),{}),p=$(".srchDrpZCTA");$.each(c,(function(e,t){p.append('<div class = option><input type=radio class="radio srchSlctZCTA" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var u=[],d=[];for(a=0;a<nta.features.length;a++)null!=nta.features[a].properties.nta&&u.push(nta.features[a].properties.nta);for(a=0;a<nta.features.length;a++)null!=nta.features[a].properties.NTACode&&d.push(nta.features[a].properties.NTACode);var h=d.reduce((function(e,t,a){return e[u[a]]=t,e}),{}),f=$(".srchDrpNTA");$.each(h,(function(e,t){f.append('<div class = option><input type=radio class="radio srchSlctNTA" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var v=[],b=[];for(a=0;a<ntaBK.features.length;a++)null!=ntaBK.features[a].properties.ntaBK&&v.push(ntaBK.features[a].properties.ntaBK);for(a=0;a<ntaBK.features.length;a++)null!=ntaBK.features[a].properties.NTACode&&b.push(ntaBK.features[a].properties.NTACode);var g=b.reduce((function(e,t,a){return e[v[a]]=t,e}),{}),y=$(".srchDrpNTABK");$.each(g,(function(e,t){y.append('<div class = option><input type=radio class="radio srchSlctNTABK" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var m=[],T=[];for(a=0;a<ntaQN.features.length;a++)null!=ntaQN.features[a].properties.ntaQN&&m.push(ntaQN.features[a].properties.ntaQN);for(a=0;a<ntaQN.features.length;a++)null!=ntaQN.features[a].properties.NTACode&&T.push(ntaQN.features[a].properties.NTACode);var N=T.reduce((function(e,t,a){return e[m[a]]=t,e}),{}),A=$(".srchDrpNTAQN");$.each(N,(function(e,t){A.append('<div class = option><input type=radio class="radio srchSlctNTAQN" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var C=[],S=[];for(a=0;a<ntaMN.features.length;a++)null!=ntaMN.features[a].properties.ntaMN&&C.push(ntaMN.features[a].properties.ntaMN);for(a=0;a<ntaMN.features.length;a++)null!=ntaMN.features[a].properties.NTACode&&S.push(ntaMN.features[a].properties.NTACode);var B=S.reduce((function(e,t,a){return e[C[a]]=t,e}),{}),w=$(".srchDrpNTAMN");$.each(B,(function(e,t){w.append('<div class = option><input type=radio class="radio srchSlctNTAMN" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var k=[],L=[];for(a=0;a<ntaBX.features.length;a++)null!=ntaBX.features[a].properties.ntaBX&&k.push(ntaBX.features[a].properties.ntaBX);for(a=0;a<ntaBX.features.length;a++)null!=ntaBX.features[a].properties.NTACode&&L.push(ntaBX.features[a].properties.NTACode);var R=L.reduce((function(e,t,a){return e[k[a]]=t,e}),{}),P=$(".srchDrpNTABX");$.each(R,(function(e,t){P.append('<div class = option><input type=radio class="radio srchSlctNTABX" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var M=[],D=[];for(a=0;a<ntaSI.features.length;a++)null!=ntaSI.features[a].properties.ntaSI&&M.push(ntaSI.features[a].properties.ntaSI);for(a=0;a<ntaSI.features.length;a++)null!=ntaSI.features[a].properties.NTACode&&D.push(ntaSI.features[a].properties.NTACode);var E=D.reduce((function(e,t,a){return e[M[a]]=t,e}),{}),I=$(".srchDrpNTASI");$.each(E,(function(e,t){I.append('<div class = option><input type=radio class="radio srchSlctNTASI" value='+t+"><label for ="+e+">"+e+"</label></div>")}))}()},927:()=>{tippy("#catTT",{content:"Select a category to begin building your map. Selecting a new category will reset your map.",arrow:!1,theme:"default"}),tippy("#metTT",{content:"Select a metric to categorize map",arrow:!1,theme:"default"}),tippy("#btypeTT",{content:"Select from the 6 business types that received 94% of all PPP loans",arrow:!1,theme:"default"}),tippy("#genderTT",{content:"84% of PPP loan recepients did not reveal their gender",arrow:!1,theme:"default"}),tippy("#nonprofitTT",{content:"Approximately 3% of PPP loan recepients are nonprofits",arrow:!1,theme:"default"}),tippy("#lenderTT",{content:"Select from the 6 lenders that lended out nearly 60% of all PPP loans to NYC",arrow:!1,theme:"default"}),tippy("#vetTT",{content:"Less than 0.5% of PPP loans in NYC went to veterans",arrow:!1,theme:"default"}),tippy("#one50kTT",{content:"15% of PPP Loan Recpients who received a PPP loan greater than $150 thousand, received a loan greater than $1 million",arrow:!1,theme:"default"}),tippy("#mapTT",{content:"Select from 4 different geographies to create your map. See information panel for details on methodology",arrow:!1,theme:"default"}),tippy("#switchTT",{content:"Choose a classification method to arrange the data",arrow:!1,theme:"default"}),tippy("#ntaTT",{content:"Select a Neighborhood Tabulation Area (NTA) by borough or county and a Ratio to create map. See information panel for details on methodology",arrow:!1,theme:"default"}),tippy("#ntaRatioTT",{content:"Select Residential, Business, Other or Total ratio to create map. See information panel for details on methodology",arrow:!1,theme:"default"}),tippy("#numTT",{content:"Choose the number of data classes for your map",arrow:!1,theme:"default"}),tippy(".BuGn",{content:"Blue - Green",arrow:!1,theme:"bugn"}),tippy(".BuPu",{content:"Blue - Purple",arrow:!1,theme:"bupu"}),tippy(".GnBu",{content:"Green - Blue",arrow:!1,theme:"gnbu"}),tippy(".OrRd",{content:"Orange - Red",arrow:!1,theme:"orrd"}),tippy(".PuBu",{content:"Purple - Blue",arrow:!1,theme:"pubu"}),tippy(".PuBuGn",{content:"Purple - Blue - Green",arrow:!1,theme:"pubugn"}),tippy(".PuRd",{content:"Purple - Red",arrow:!1,theme:"purd"}),tippy(".RdPu",{content:"Red - Purple",arrow:!1,theme:"rdpu"}),tippy(".YlGn",{content:"Yellow - Green",arrow:!1,theme:"ylgn"}),tippy(".YlGnBu",{content:"Yellow - Green - Blue",arrow:!1,theme:"ylgnbu"}),tippy(".YlOrBr",{content:"Yellow - Orange - Brown",arrow:!1,theme:"ylorbr"}),tippy(".YlOrRd",{content:"Yellow - Orange - Red",arrow:!1,theme:"ylorrd"}),tippy(".Blues",{content:"Blue",arrow:!1,theme:"blues"}),tippy(".Greens",{content:"Green",arrow:!1,theme:"greens"}),tippy(".Oranges",{content:"Orange",arrow:!1,theme:"oranges"}),tippy(".Purples",{content:"Purple",arrow:!1,theme:"purples"}),tippy(".Reds",{content:"Red",arrow:!1,theme:"reds"}),tippy(".BrBG",{content:"Brown - Blue Green",arrow:!1,theme:"brbg"}),tippy(".PRGn",{content:"Purple - Green",arrow:!1,theme:"prgn"}),tippy(".PuOr",{content:"Orange - Purple",arrow:!1,theme:"puor"}),tippy(".RdBu",{content:"Red - Blue",arrow:!1,theme:"rdbu"}),tippy(".RdYlGn",{content:"Red - Yellow - Green",arrow:!1,theme:"rdylgn"})},110:()=>{!function(){for(var e=[],t=[],a=0;a<boro.features.length;a++)null!=boro.features[a].properties.boro&&e.push(boro.features[a].properties.boro);for(a=0;a<boro.features.length;a++)null!=boro.features[a].properties.boroID&&t.push(boro.features[a].properties.boroID);var r=t.reduce((function(t,a,r){return t[e[r]]=a,t}),{}),o=$(".srchDrpBoro2");$.each(r,(function(e,t){o.append('<div class = option><input type=radio class="radio srchSlctBoro2" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var s=[];for(a=0;a<congdist.features.length;a++)null!=congdist.features[a].properties.CD&&s.push(congdist.features[a].properties.CD);var n=$(".srchDrpCongDist2");$.each(s,(function(e,t){n.append('<div class = option><input type=radio class="radio srchSlctCongDist2" value='+t+"><label>"+t+"</label></div>")}));var i=[],l=[];for(a=0;a<zcta.features.length;a++)null!=zcta.features[a].properties.zcta&&i.push(zcta.features[a].properties.zcta);for(a=0;a<zcta.features.length;a++)null!=zcta.features[a].properties.zctaID&&l.push(zcta.features[a].properties.zctaID);var c=l.reduce((function(e,t,a){return e[i[a]]=t,e}),{}),p=$(".srchDrpZCTA2");$.each(c,(function(e,t){p.append('<div class = option><input type=radio class="radio srchSlctZCTA2" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var u=[],d=[];for(a=0;a<nta.features.length;a++)null!=nta.features[a].properties.nta&&u.push(nta.features[a].properties.nta);for(a=0;a<nta.features.length;a++)null!=nta.features[a].properties.NTACode&&d.push(nta.features[a].properties.NTACode);var h=d.reduce((function(e,t,a){return e[u[a]]=t,e}),{}),f=$(".srchDrpNTA2");$.each(h,(function(e,t){f.append('<div class = option><input type=radio class="radio srchSlctNTA2" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var v=[],b=[];for(a=0;a<ntaBK.features.length;a++)null!=ntaBK.features[a].properties.ntaBK&&v.push(ntaBK.features[a].properties.ntaBK);for(a=0;a<ntaBK.features.length;a++)null!=ntaBK.features[a].properties.NTACode&&b.push(ntaBK.features[a].properties.NTACode);var g=b.reduce((function(e,t,a){return e[v[a]]=t,e}),{}),y=$(".srchDrpNTABK2");$.each(g,(function(e,t){y.append('<div class = option><input type=radio class="radio srchSlctNTABK2" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var m=[],T=[];for(a=0;a<ntaQN.features.length;a++)null!=ntaQN.features[a].properties.ntaQN&&m.push(ntaQN.features[a].properties.ntaQN);for(a=0;a<ntaQN.features.length;a++)null!=ntaQN.features[a].properties.NTACode&&T.push(ntaQN.features[a].properties.NTACode);var N=T.reduce((function(e,t,a){return e[m[a]]=t,e}),{}),A=$(".srchDrpNTAQN2");$.each(N,(function(e,t){A.append('<div class = option><input type=radio class="radio srchSlctNTAQN2" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var C=[],S=[];for(a=0;a<ntaMN.features.length;a++)null!=ntaMN.features[a].properties.ntaMN&&C.push(ntaMN.features[a].properties.ntaMN);for(a=0;a<ntaMN.features.length;a++)null!=ntaMN.features[a].properties.NTACode&&S.push(ntaMN.features[a].properties.NTACode);var B=S.reduce((function(e,t,a){return e[C[a]]=t,e}),{}),w=$(".srchDrpNTAMN2");$.each(B,(function(e,t){w.append('<div class = option><input type=radio class="radio srchSlctNTAMN2" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var k=[],L=[];for(a=0;a<ntaBX.features.length;a++)null!=ntaBX.features[a].properties.ntaBX&&k.push(ntaBX.features[a].properties.ntaBX);for(a=0;a<ntaBX.features.length;a++)null!=ntaBX.features[a].properties.NTACode&&L.push(ntaBX.features[a].properties.NTACode);var R=L.reduce((function(e,t,a){return e[k[a]]=t,e}),{}),P=$(".srchDrpNTABX2");$.each(R,(function(e,t){P.append('<div class = option><input type=radio class="radio srchSlctNTABX2" value='+t+"><label for ="+e+">"+e+"</label></div>")}));var M=[],D=[];for(a=0;a<ntaSI.features.length;a++)null!=ntaSI.features[a].properties.ntaSI&&M.push(ntaSI.features[a].properties.ntaSI);for(a=0;a<ntaSI.features.length;a++)null!=ntaSI.features[a].properties.NTACode&&D.push(ntaSI.features[a].properties.NTACode);var E=D.reduce((function(e,t,a){return e[M[a]]=t,e}),{}),I=$(".srchDrpNTASI2");$.each(E,(function(e,t){I.append('<div class = option><input type=radio class="radio srchSlctNTASI2" value='+t+"><label for ="+e+">"+e+"</label></div>")}))}()},496:()=>{tippy(".BuGn2",{content:"Blue - Green",arrow:!1,theme:"bugn2"}),tippy(".BuPu2",{content:"Blue - Purple",arrow:!1,theme:"bupu2"}),tippy(".GnBu2",{content:"Green - Blue",arrow:!1,theme:"gnbu2"}),tippy(".OrRd2",{content:"Orange - Red",arrow:!1,theme:"orrd2"}),tippy(".PuBu2",{content:"Purple - Blue",arrow:!1,theme:"pubu2"}),tippy(".PuBuGn2",{content:"Purple - Blue - Green",arrow:!1,theme:"pubugn2"}),tippy(".PuRd2",{content:"Purple - Red",arrow:!1,theme:"purd2"}),tippy(".RdPu2",{content:"Red - Purple",arrow:!1,theme:"rdpu2"}),tippy(".YlGn2",{content:"Yellow - Green",arrow:!1,theme:"ylgn2"}),tippy(".YlGnBu2",{content:"Yellow - Green - Blue",arrow:!1,theme:"ylgnbu2"}),tippy(".YlOrBr2",{content:"Yellow - Orange - Brown",arrow:!1,theme:"ylorbr2"}),tippy(".YlOrRd2",{content:"Yellow - Orange - Red",arrow:!1,theme:"ylorrd2"}),tippy(".Blues2",{content:"Blue",arrow:!1,theme:"blues2"}),tippy(".Greens2",{content:"Green",arrow:!1,theme:"greens2"}),tippy(".Oranges2",{content:"Orange",arrow:!1,theme:"oranges2"}),tippy(".Purples2",{content:"Purple",arrow:!1,theme:"purples"}),tippy(".Reds2",{content:"Red",arrow:!1,theme:"reds2"}),tippy(".BrBG2",{content:"Brown - Blue Green",arrow:!1,theme:"brbg2"}),tippy(".PRGn2",{content:"Purple - Green",arrow:!1,theme:"prgn2"}),tippy(".PuOr2",{content:"Orange - Purple",arrow:!1,theme:"puor2"}),tippy(".RdBu2",{content:"Red - Blue",arrow:!1,theme:"rdbu2"}),tippy(".RdYlGn2",{content:"Red - Yellow - Green",arrow:!1,theme:"rdylgn2"})}},t={};function a(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}(()=>{"use strict";$("#wrapper, #wrapper2").append("<p>The Paycheck Protection Program (PPP) is a loan designed to provide a direct incentive for small businesses to keep their workers on payroll and was established through the Coronavirus Aid, Relief, and Economic Security (CARES) Act on March 27, 2020. The PPP loan level Data for the maps are derived from two datasets from the Small Business Administration (SBA) for loans lent through August 08, 2020. <br><br>The first dataset is PPP loan level data for the state of New York for loans that are less than $150,000. This data is represented in the categories: 'Business Type', 'Gender', 'Nonprofit', 'Veteran' and 'Lender'.<br><br> The second dataset is derived from a dataset of PPP loans of $150,000 and above for all 56 states, territories, and the District of Columbia. This data is represented in the category: 'Greater than 150k'.<br><br>For more information about the impact of PPP loans, the methodology and further analysis please refer to either my Medium or blog post article.</p>");var e,t,r,o,s,n,i,l,c=["btype","gender","nonprofit","lender","vet","race"],p=["fas fa-building fa-fw hvr-icon","fas fa-transgender fa-fw hvr-icon","fas fa-hands-helping fa-fw hvr-icon","fas fa-hand-holding-usd fa-fw hvr-icon","fas fa-flag-usa fa-fw hvr-icon","fas fa-users fa-fw hvr-icon"],u=["Business Type","Gender","Nonprofit","Lender","Veteran","Race"].reduce((function(e,t,a){return e[c[a]]=t,e}),{}),d=["In NYC, PPP loan recipients represented 16 different business types (1 percent of recipients leaving their business type as unanswered). You are able to visualize the top 6 business types that received 94 percent of PPP loans in NYC. Corporations received the most amount of PPP loans, over $1.8 billion, and represented the largest share of all businesses, 38 percent, or over 55 thousand.","88 percent of PPP loan recipients declined to declare whether their business is either female or male owned. However, of the 12 percent that did declare, 9 percent of businesses are male owned, receiving over $559 million (12 percent of total PPP loan funding in NYC), and 3 percent are female owned, receiving over $147 million (or 3 percent of total PPP loan funding in NYC).","In NYC, only 2 percent of all PPP loan recipients identified as a nonprofit - approximately receiving $126 million in PPP loans.","In NYC, PPP loan recipients received loans from 835 different lenders. You are able to visualize the top 6 lenders that loaned 62 percent of all NYC businesses and 59 percent of all PPP loans. JP Morgan Chase Bank loaned the most at $1.2 billion, or 27 percent, to 31 thousand businesses, or 22 percent of all NYC businesses.","Only 205 of NYC businesses, or 0.14 percent, identified as veteran owned. Those 205 businesses received only $8.6 million, or 0.19 percent, of all PPP loans.","NYC businesses that received over $150 thousand of PPP loans only made up 13 percent of all loan recipients. However, these NYC businesses reported 67 percent of all the jobs retained."],h=["fas fa-dollar-sign fa-fw hvr-icon","fas fa-briefcase fa-fw hvr-icon","fas fa-store fa-fw hvr-icon"],f=["lnamt","jbrt","cnt"],v=["Loan Amount","Jobs Retained","Business Count"].reduce((function(e,t,a){return e[f[a]]=t,e}),{}),b=["87 percent of NYC businesses who received PPP loans received a loan of $150 thousand or less. The average loan amount is $31,282. Of the 13 percent who received a loan amount greater than $150 thousand, 85 percent received a loan of less than $1 million.","On average, for every NYC business that received a PPP loan, 8 jobs were retained. For businesses that received less than $150 thousand in PPP loans, for every $100 thousand dollars borrowed, approximately 3.2 jobs were retained.","In total, approximately 166,497 NYC businesses received a PPP loan. That is slightly over 50 percent of all PPP loan recipients in New York State."],g=["boro","congdist","zcta","nta"],y=["Borough","Congressional District","Zip Code Tabulation Area","Neighborhood Tabulation Area"].reduce((function(e,t,a){return e[g[a]]=t,e}),{}),m=["Of the PPP loan recipients who received less than $150 thousand, and of the 5 boroughs, Manhattan (New York County) received $1.9 billion in PPP loans, $800 million more than Brooklyn (Kings County), the borough who received the second highest amount of PPP loans. Although, Staten Island (Richmond County) received the least amount of PPP loans, $163 million, the average loan amount was $3.6 thousand more than the borough with the lowest average PPP loan amount, Bronx.","Of the PPP loan recipients who received less than $150 thousand, Congressional District 12 (NY-12) received $1.2 billion, or 27 percent of all PPP loans. Although, NY-12's boundaries spans both Manhattan and Brooklyn, $1.1 billion was allocated to businesses in Manhattan.","According to the U.S. Census Bureau, Zip Code Tabulation Areas (ZCTAs) are generalized areal representations of U.S. Postal Service zip code service areas. In creating ZCTAs, the Census Bureau took the most frequently occurring Zip Code in an area for the ZCTA code. For more details on data for ZCTAs were calculated, see methodology.","According to NYC Department of City Planning, Neighborhood Tabulation Areas (NTAs) were created to project populations at a small area level, from 2000 to 2030 for PlaNYC, the long-term sustainability plan for NYC. The minimum population for each NTA is 15,000. For more details on data for ZCTAs were calculated, see methodology."],T=["resRat","busRat","othRat","totRat"],N=["Residential Ratio","Busienss Ratio","Other Ratio","Total Ratio"].reduce((function(e,t,a){return e[T[a]]=t,e}),{}),A=["The ratio of residential addresses in the Census Tract part to the total number of residential addresses in the entire Tract","The ratio of business addresses in the Census Tract part to the total number of business addresses in the entire Tract","The ratio of other addresses in the Census Tract part to the total number of other addresses in the entire Tract","The ratio of all addresses in the Census Tract part to the total number of all types of addresses in the entire Tract"],C=$(".infoCat"),S=$(".infoMet"),B=$(".infoGeo"),w=$(".infoRat");e=t=r=o=s=n=i=l=-1;var k=$(".infoCat2"),R=$(".infoMet2"),P=$(".infoGeo2"),M=$(".infoRat2");$.each(u,(function(e,t){s+=1,C.append('<a class="list-group-item" data-toggle="collapse" href="#collapse'+e+'"><i class="'+p[s]+'"></i><span id = "infoTxt">'+t+'</span><div id="collapse'+e+'" class="collapse" aria-labelledby="heading'+e+'" data-parent="#accordionCat">'+d[s]+"</div></a>")})),$.each(v,(function(e,t){n+=1,S.append('<a class="list-group-item" data-toggle="collapse" href="#collapse'+e+'"><i class="'+h[n]+'"></i><span id = "infoTxt">'+t+'</span><div id="collapse'+e+'" class="collapse" aria-labelledby="heading'+e+'" data-parent="#accordionMet">'+b[n]+"</div></a>")})),$.each(y,(function(e,t){i+=1,B.append('<a class="list-group-item" data-toggle="collapse" href="#collapse'+e+'"><span id = "infoTxt">'+t+'</span><div id="collapse'+e+'" class="collapse" aria-labelledby="heading'+e+'" data-parent="#accordionGeo">'+m[i]+"</div></a>")})),$.each(N,(function(e,t){l+=1,w.append('<a class="list-group-item" data-toggle="collapse" href="#collapse'+e+'"><span id = "infoTxt">'+t+'</span><div id="collapse'+e+'" class="collapse" aria-labelledby="heading'+e+'" data-parent="#accordionRat">'+A[l]+"</div></a>")})),$.each(u,(function(t,a){e+=1,k.append('<a class="list-group-item" data-toggle="collapse" href="#collapse'+t+'2"><i class="'+p[e]+'"></i><span id = "infoTxt">'+a+'</span><div id="collapse'+t+'2" class="collapse" aria-labelledby="heading'+t+'2" data-parent="#accordionCat2">'+d[e]+"</div></a>")})),$.each(v,(function(e,a){t+=1,R.append('<a class="list-group-item" data-toggle="collapse" href="#collapse'+e+'2"><i class="'+h[t]+'"></i><span id = "infoTxt">'+a+'</span><div id="collapse'+e+'2" class="collapse" aria-labelledby="heading'+e+'2" data-parent="#accordionMet2">'+b[t]+"</div></a>")})),$.each(y,(function(e,t){r+=1,P.append('<a class="list-group-item" data-toggle="collapse" href="#collapse'+e+'2"><span id = "infoTxt">'+t+'</span><div id="collapse'+e+'2" class="collapse" aria-labelledby="heading'+e+'2" data-parent="#accordionGeo2">'+m[r]+"</div></a>")})),$.each(N,(function(e,t){o+=1,M.append('<a class="list-group-item" data-toggle="collapse" href="#collapse'+e+'2"><span id = "infoTxt">'+t+'</span><div id="collapse'+e+'2" class="collapse" aria-labelledby="heading'+e+'2" data-parent="#accordionRat2">'+A[o]+"</div></a>")}));var D,E,I,O,_=["btype","gender","nonprofit","lender","vet","race"],G=["Business Type","Gender","Nonprofit","Lender","Veterans","Race"].reduce((function(e,t,a){return e[_[a]]=t,e}),{}),x=["jbrt","lnamt","cnt"],j=["Jobs Retained","Loan Amount","Business Count"].reduce((function(e,t,a){return e[x[a]]=t,e}),{}),z=["corp","llc","scorp","sp","indcon","slfemp"],K=["Corporation","Limited Liability Company","S Corporation","Sole Proprietorship","Independent Contractors","Self-Employed Individuals"].reduce((function(e,t,a){return e[z[a]]=t,e}),{}),Q=["f","m","ua"],q=["Female","Male","Unanswered"].reduce((function(e,t,a){return e[Q[a]]=t,e}),{}),X=["y","n"],Y=["Yes","No"].reduce((function(e,t,a){return e[X[a]]=t,e}),{}),V=["jpmc","tdnb","cbna","boa","crb","sigb"],Z=["JP Morgan Chase Bank","TD Bank","Citibank","Bank of America","Cross River Bank","Signature Bank"].reduce((function(e,t,a){return e[V[a]]=t,e}),{}),H=["v","nv","ua"],F=["Veteran","Nonveteran","Unanswered"].reduce((function(e,t,a){return e[H[a]]=t,e}),{}),J=["c","d","b","e","pr","w","ua"],U=["American Indian or Alaska Native","Asian","Black or African American","Native Hawaiian or Other Pacific Islander","Puerto Rican","White","Unanswered"].reduce((function(e,t,a){return e[J[a]]=t,e}),{}),W=["a150","b150","c150","d150","e150"],ee=(["$5-$10 Million","$2-$5 Million","$1-$2 Million","$350K-$1 Million","$150K-$350K"].reduce((function(e,t,a){return e[W[a]]=t,e}),{}),["boro","congdist","nta","zcta"]),te=["Borough","Congressional Districts","Neighborhood Tabulation Area","Zip Code Tabulation Area"].reduce((function(e,t,a){return e[ee[a]]=t,e}),{}),ae=["nta","ntaBK","ntaQN","ntaMN","ntaBX","ntaSI"],re=["NTA - NYC","NTA - BK","NTA - QN","NTA - MN","NTA - BX","NTA - SI"].reduce((function(e,t,a){return e[ae[a]]=t,e}),{}),oe=["srchBoro","srchCongDist","srchZCTA","srchNTA","srchNTABK","srchNTAQN","srchNTAMN","srchNTABX","srchNTASI"],se=["Borough","Congressional Districts","Zip Code Tabulation Area","NTA - NYC","NTA - BK","NTA - QN","NTA - MN","NTA - BX","NTA - SI"].reduce((function(e,t,a){return e[oe[a]]=t,e}),{}),ne=["ResRatio","BusRatio","OthRatio","TotRatio"],ie=["Res. Ratio","Bus. Ratio","Oth. Ratio","Tot. Ratio"].reduce((function(e,t,a){return e[ne[a]]=t,e}),{}),le=$(".drpCat"),ce=$(".drpMet"),pe=$("#btype .drpAttr"),ue=$("#gender .drpAttr"),de=$("#nonprofit .drpAttr"),he=$("#lender .drpAttr"),fe=$("#vet .drpAttr"),ve=($("#one50k .drpAttr"),$("#race .drpAttr")),be=$(".grpMap .drpMap"),ge=$(".drpNTAMap"),ye=$(".drpNTARatio");D=E=I=O=-1;var me,Te,Ne,Ae,Ce,Se,$e,Be=$(".srchDrpCat"),we=$("#srchbtype .srchDrpAttr"),ke=$("#srchgender .srchDrpAttr"),Le=$("#srchnonprofit .srchDrpAttr"),Re=$("#srchlender .srchDrpAttr"),Pe=$("#srchvet .srchDrpAttr"),Me=($("#srchone50k .srchDrpAttr"),$("#srchrace .srchDrpAttr")),De=$(".srchDrpMap"),Ee=$(".drpCat2"),Ie=$(".drpMet2"),Oe=$("#btype2 .drpAttr2"),_e=$("#gender2 .drpAttr2"),Ge=$("#nonprofit2 .drpAttr2"),xe=$("#lender2 .drpAttr2"),je=$("#vet2 .drpAttr2"),ze=($("#one50k2 .drpAttr2"),$("#race2 .drpAttr2")),Ke=$(".grpMap2 .drpMap2"),Qe=$(".drpNTAMap2"),qe=$(".drpNTARatio2"),Xe=$(".srchDrpCat2"),Ye=$("#srchbtype2 .srchDrpAttr2"),Ve=$("#srchgender2 .srchDrpAttr2"),Ze=$("#srchnonprofit2 .srchDrpAttr2"),He=$("#srchlender2 .srchDrpAttr2"),Fe=$("#srchvet2 .srchDrpAttr2"),Je=($("#srchone50k2 .srchDrpAttr2"),$("#srchrace2 .srchDrpAttr2")),Ue=$(".srchDrpMap2");$.each(G,(function(e,t){O+=1,le.append('<div class="option hvr-icon-fade"><input type="radio" class="radio slctCat" value="'+e+'" /><label for="'+e+'"><i class="'+p[O]+'"></i><span class="label">'+t+"</span></label></div>")})),$.each(j,(function(e,t){ce.append('<div class="option '+e+'"><input type="radio" class="radio slctMet" value="'+e+'" /><label for="'+e+'">'+t+"</label></div>")})),$.each(K,(function(e,t){pe.append('<div class="option"><input type="radio" class="radio slctAttr" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(q,(function(e,t){ue.append('<div class="option"><input type="radio" class="radio slctAttr" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(Y,(function(e,t){de.append('<div class="option"><input type="radio" class="radio slctAttr" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(Z,(function(e,t){he.append('<div class="option"><input type="radio" class="radio slctAttr" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(F,(function(e,t){fe.append('<div class="option"><input type="radio" class="radio slctAttr" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(U,(function(e,t){ve.append('<div class="option"><input type="radio" class="radio slctAttr" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(te,(function(e,t){be.append('<div class="option"><input type="radio" class="radio slctMap" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(re,(function(e,t){ge.append('<div class="option"><input type="radio" class="radio slctNTAMap" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(ie,(function(e,t){ye.append('<div class="option"><input type="radio" class="radio slctNTARatio" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")}));var We,et=document.querySelectorAll(".selected");$(".grpCat, .grpNTAMap, .grpNTARatio, .grpMet, .grpMap").hide(),et.forEach((function(e){var t=e.previousElementSibling,a=t.querySelectorAll(".option");e.addEventListener("click",(function(){if(t.classList.contains("active"))t.classList.remove("active");else{var r=document.querySelector(".options-container.active");r&&r.classList.remove("active"),t.classList.add("active")}t.classList.contains("drpCat")&&a.forEach((function(t){t.addEventListener("click",(function(){me=t.querySelector(".slctCat").value,e.setAttribute("value",me),$(".grpCat").not("#"+me).hide(),$("#"+me).show(),$(".grpMap, .grpMet").show(),$(".grpNTAMap, .grpNTARatio").hide(),$(".grpCat .selected").attr("value","").text("Please Select"),$(".grpMet .selected").attr("value","").text("Please Select"),$(".grpMap .selected").attr("value","").text("Please Select"),$(".grpNTAMap .selected").attr("value","").text("Please Select"),$(".grpNTARatio .selected").attr("value","").text("Please Select"),Ne="",Te="",Ae="",Se="",Ce=""}))})),t.classList.contains("drpMet")&&a.forEach((function(t){t.addEventListener("click",(function(){Te=t.querySelector(".slctMet").value,e.setAttribute("value",Te)}))})),t.classList.contains("drpAttr")&&a.forEach((function(t){t.addEventListener("click",(function(){Ne=t.querySelector(".slctAttr").value,e.setAttribute("value",Ne)}))})),t.classList.contains("drpMap")&&a.forEach((function(t){t.addEventListener("click",(function(){Ae=t.querySelector(".slctMap").value,e.setAttribute("value",Ae),"nta"===Ae?$("#nta, #ntaRatio").show():($(".grpNTAMap, .grpNTARatio").not("#"+Ae).hide(),$(".grpNTAMap .selected").attr("value","").text("Select a NTA Geo"),$(".grpNTARatio .selected").attr("value","").text("Select a Ratio"),Se="",Ce="")}))})),t.classList.contains("drpNTARatio")&&a.forEach((function(t){t.addEventListener("click",(function(){Se=t.querySelector(".slctNTARatio").value,e.setAttribute("value",Se)}))})),t.classList.contains("drpNTAMap")&&a.forEach((function(t){t.addEventListener("click",(function(){Ce=t.querySelector(".slctNTAMap").value,e.setAttribute("value",Ce)}))}))})),a.forEach((function(a){a.addEventListener("click",(function(){e.innerHTML=a.querySelector("label").innerHTML,t.classList.remove("active")}))}))})),$(".slctGrps,.grpMet,.grpCat,.grpMap, .grpNTAMap, .grpNTARatio").on("click",(function(){$e=Se?me+"_"+Te+"_"+Se+"_"+Ne:me+"_"+Te+"_"+Ne}));var tt=L.control({position:"bottomright"});function at(){!function(){switch(Te){case"jbrt":We="Jobs Retained";break;case"lnamt":We="Loan Amount";break;case"cnt":We="Business Count"}}(),tt.addTo(rt)}tt.onAdd=function(e){var t,a,r,o=L.DomUtil.create("div","info legend"),s=Nt.getBreaks(),n=[];r='<div id="lgndtxt">'+We+"</div>";for(var i=0;i<s.length;i++){t=Math.floor(s[i]);var l,c,p=Math.floor(s[i+1]);a=Math.ceil(s[i+1]),"lnamt"==Te?(l=At.format(t),c=At.format(a)):(l=Ct(t),c=Ct(a)),a&&n.push('<i style="background:'+Nt.getColorInRange(p)+'"></i> '+l+" &ndash; "+c)}return o.innerHTML=r+n.join("<br>"),o};var rt=L.map("map1",{center:[40.7128,-74.006],zoom:10.5,maxZoom:12.25,minZoom:10,zoomSnap:.25,zoomControl:!1,wheelPxPerZoomLevel:100,zoomDelta:.25,dragging:!0,doubleClickZoom:!1,attributionControl:!1});L.Control.zoomHome({position:"topright",zoomHomeTitle:"NYC",homeCoordinates:[40.7128,-74.006],homeZoom:10.5}).addTo(rt);var ot=L.map("map2",{center:[40.7128,-74.006],zoom:10.5,maxZoom:12.25,minZoom:10,zoomSnap:.25,zoomControl:!1,wheelPxPerZoomLevel:100,zoomDelta:.25,dragging:!0,doubleClickZoom:!1,attributionControl:!1});L.Control.zoomHome({position:"topleft",zoomHomeTitle:"NYC",homeCoordinates:[40.7128,-74.006],homeZoom:10.5}).addTo(ot);var st,nt,it,lt,ct,pt,ut,dt,ht,ft,vt,bt,gt,yt,mt,Tt,Nt=new classyBrew,At=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}),Ct=function(e){return parseInt(e).toLocaleString()},St=L.tileLayer.provider("CartoDB.DarkMatter"),$t=L.tileLayer.provider("Stadia.AlidadeSmoothDark"),Bt=L.tileLayer.provider("CartoDB.Voyager"),wt=L.tileLayer.provider("CartoDB.Positron"),kt=L.tileLayer.provider("Stadia.AlidadeSmoothDark"),Lt=L.tileLayer.provider("CartoDB.DarkMatter"),Rt=L.tileLayer.provider("CartoDB.Voyager"),Pt=L.tileLayer.provider("CartoDB.Positron"),Mt={"Stadia Alidade Smooth Dark":$t,"Carto Dark Matter":St,"Carto Voyager":Bt,"Carto Positron":wt},Dt={"Stadia Alidade Smooth Dark":kt,"Carto Dark Matter":Lt,"Carto Voyager":Rt,"Carto Positron":Pt},Et=(L.control.layers(Mt).addTo(rt),L.control.layers(Dt,null,{position:"topleft"}).addTo(ot),St.addTo(rt),Rt.addTo(ot),L.layerGroup([St,Bt,$t,wt])),It=1,Ot=(Et.eachLayer((function(e){e.layerID=It,It+=1})),L.layerGroup([Lt,Rt,Pt,kt])),_t=5;Ot.eachLayer((function(e){e.layerID2=_t,_t+=1})),L.control.sidebar({container:"sidebar",position:"left"}).addTo(rt).open("home"),L.control.sidebar({container:"sidebar",position:"right"}).addTo(ot).open("home"),$((function(){document.getElementById("bs-switch-1").switchButton({onlabel:"Equal Interval",offlabel:"Quantile",onstyle:"info",offstyle:"warning",size:"mini",width:"300"})})),$((function(){document.getElementById("bs-switch-2").switchButton({onlabel:"Equal Interval",offlabel:"Quantile",onstyle:"info",offstyle:"warning",size:"mini",width:"300"})})),$("#numClass").inputSpinner({buttonsClass:"chngNumClasses",buttonsOnly:!0}),$("#numClass").on("change",(function(e){st=$(e.target).val(),console.log(st)})),$("#numClass2").inputSpinner({buttonsClass:"chngNumClasses",buttonsOnly:!0}),$("#numClass2").on("change",(function(e){nt=$(e.target).val(),console.log(nt)})),a(829),$.each(G,(function(e,t){I+=1,Be.append('<div class="option hvr-icon-fade"><input type="radio" class="radio srchSlctCat" value="srch'+e+'" /><label for="srch'+e+'"><i class="'+p[I]+'"></i><span class="label">'+t+"</span></label></div>")})),$.each(K,(function(e,t){we.append('<div class="option"><input type="radio" class="radio srchSlctAttr" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(q,(function(e,t){ke.append('<div class="option"><input type="radio" class="radio srchSlctAttr" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(Y,(function(e,t){Le.append('<div class="option"><input type="radio" class="radio srchSlctAttr" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(Z,(function(e,t){Re.append('<div class="option"><input type="radio" class="radio srchSlctAttr" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(F,(function(e,t){Pe.append('<div class="option"><input type="radio" class="radio srchSlctAttr" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(U,(function(e,t){Me.append('<div class="option"><input type="radio" class="radio srchSlctAttr" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(se,(function(e,t){De.append('<div class="option"><input type="radio" class="radio srchSlctMap" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")}));var Gt,xt,jt,zt,Kt,Qt,qt,Xt,Yt,Vt,Zt,Ht,Ft,Jt,Ut,Wt,ea=document.querySelectorAll(".srchSelected");$(".srchGrpAttr, .srchGrpGeo").hide(),$(".ntaCard, .geoCard").hide(),$("#srchBtn").addClass("disabled").prop("disabled",!0),ea.forEach((function(e){var t=e.previousElementSibling,a=t.querySelectorAll(".option");e.addEventListener("click",(function(){if(t.classList.contains("active"))t.classList.remove("active");else{var r=document.querySelector(".options-container.active");r&&r.classList.remove("active"),t.classList.add("active")}t.classList.contains("srchDrpCat")&&a.forEach((function(t){t.addEventListener("click",(function(){it=t.querySelector(".srchSlctCat").value,e.setAttribute("value",it),lt=e.textContent,$(".srchGrpAttr").not("#"+it).hide(),$("#"+it).show(),$(".srchGrpAttr .srchSelected").attr("value","").text("Please Select"),ct=""}))})),t.classList.contains("srchDrpAttr")&&a.forEach((function(t){t.addEventListener("click",(function(){ct=t.querySelector(".srchSlctAttr").value,e.setAttribute("value",ct),pt=e.textContent}))})),t.classList.contains("srchDrpMap")&&a.forEach((function(t){t.addEventListener("click",(function(){ut=t.querySelector(".srchSlctMap").value,e.setAttribute("value",ut),$(".srchGrpGeo").not("#"+ut).hide(),$("#"+ut).show(),$(".srchGrpGeo .srchSelected").attr("value","").text("Please Select"),dt="",ht="",ft="",vt="",bt="",gt="",yt="",mt="",Tt=""}))})),t.classList.contains("srchDrpBoro")&&a.forEach((function(t){t.addEventListener("click",(function(){dt=t.querySelector(".srchSlctBoro").value,e.setAttribute("value",dt)}))})),t.classList.contains("srchDrpCongDist")&&a.forEach((function(t){t.addEventListener("click",(function(){ht=t.querySelector(".srchSlctCongDist").value,e.setAttribute("value",ht)}))})),t.classList.contains("srchDrpZCTA")&&a.forEach((function(t){t.addEventListener("click",(function(){ft=t.querySelector(".srchSlctZCTA").value,e.setAttribute("value",ft)}))})),t.classList.contains("srchDrpNTA")&&a.forEach((function(t){t.addEventListener("click",(function(){vt=t.querySelector(".srchSlctNTA").value,e.setAttribute("value",vt)}))})),t.classList.contains("srchDrpNTABK")&&a.forEach((function(t){t.addEventListener("click",(function(){bt=t.querySelector(".srchSlctNTABK").value,e.setAttribute("value",bt)}))})),t.classList.contains("srchDrpNTAQN")&&a.forEach((function(t){t.addEventListener("click",(function(){gt=t.querySelector(".srchSlctNTAQN").value,e.setAttribute("value",gt)}))})),t.classList.contains("srchDrpNTAMN")&&a.forEach((function(t){t.addEventListener("click",(function(){yt=t.querySelector(".srchSlctNTAMN").value,e.setAttribute("value",yt)}))})),t.classList.contains("srchDrpNTABX")&&a.forEach((function(t){t.addEventListener("click",(function(){mt=t.querySelector(".srchSlctNTABX").value,e.setAttribute("value",mt)}))})),t.classList.contains("srchDrpNTASI")&&a.forEach((function(t){t.addEventListener("click",(function(){Tt=t.querySelector(".srchSlctNTASI").value,e.setAttribute("value",Tt)}))}))})),a.forEach((function(a){a.addEventListener("click",(function(){e.innerHTML=a.querySelector("label").innerHTML,t.classList.remove("active")}))}))})),$(".srchGrpCat,.srchGrpAttr,.srchGrpGeo, .srchGrpMap").on("click",(function(){ct&&it&&ut&&(dt||ht||ft||vt||bt||gt||yt||mt||Tt)?$("#srchBtn").removeClass("disabled").prop("disabled",!1):$("#srchBtn").addClass("disabled").prop("disabled",!0),it&&(zt=it.split("srch").pop()),"srchNTA"==ut||"srchNTABK"==ut||"srchNTAQN"==ut||"srchNTAMN"==ut||"srchNTABX"==ut||"srchNTASI"==ut?(Kt=zt+"_lnamt_BusRatio_"+ct,Qt=zt+"_jbrt_BusRatio_"+ct,qt=zt+"_cnt_BusRatio_"+ct,Xt=zt+"_lnamt_ResRatio_"+ct,Yt=zt+"_jbrt_ResRatio_"+ct,Vt=zt+"_cnt_ResRatio_"+ct,Zt=zt+"_lnamt_OthRatio_"+ct,Ht=zt+"_jbrt_OthRatio_"+ct,Ft=zt+"_cnt_OthRatio_"+ct,Jt=zt+"_lnamt_TotRatio_"+ct,Ut=zt+"_jbrt_TotRatio_"+ct,Wt=zt+"_cnt_TotRatio_"+ct):(Gt=zt+"_lnamt_"+ct,xt=zt+"_jbrt_"+ct,jt=zt+"_cnt_"+ct)}));var ta,aa,ra,oa,sa,na=congdist.features,ia=boro.features,la=zcta.features,ca=nta.features,pa=ntaBK.features,ua=ntaBX.features,da=ntaMN.features,ha=ntaQN.features,fa=ntaSI.features;document.getElementById("srchBtn").onclick=function(){var e=[],t=[],a=[],r=[],o=[],s=[],n=[],i=[],l=[];switch(ut){case"srchCongDist":for(var c in na)e.push(na[c].properties.CD);oa=e.indexOf(ht),ta=na[oa].properties[Gt],aa=na[oa].properties[xt],ra=na[oa].properties[jt],sa="Congressional District: "+na[oa].properties.CD;break;case"srchBoro":for(var c in ia)t.push(ia[c].properties.boroID);oa=t.indexOf(dt),ta=ia[oa].properties[Gt],aa=ia[oa].properties[xt],ra=ia[oa].properties[jt],sa="Borough: "+ia[oa].properties.boro;break;case"srchZCTA":for(var c in la)a.push(la[c].properties.zctaID);oa=a.indexOf(ft),ta=la[oa].properties[Gt],aa=la[oa].properties[xt],ra=la[oa].properties[jt],sa="Zip Code Tabulation Area: "+la[oa].properties.zcta;break;case"srchNTA":for(var c in ca)r.push(ca[c].properties.NTACode);oa=r.indexOf(vt);var p=ca[oa].properties[Kt],u=ca[oa].properties[Qt],d=ca[oa].properties[qt],h=ca[oa].properties[Xt],f=ca[oa].properties[Yt],v=ca[oa].properties[Vt],b=ca[oa].properties[Zt],g=ca[oa].properties[Ht],y=ca[oa].properties[Ft],m=ca[oa].properties[Jt],T=ca[oa].properties[Ut],N=ca[oa].properties[Wt];sa="Neighborhood Tabulation Area: "+ca[oa].properties.nta;break;case"srchNTABK":for(var c in pa)o.push(pa[c].properties.NTACode);oa=o.indexOf(bt),p=pa[oa].properties[Kt],u=pa[oa].properties[Qt],d=pa[oa].properties[qt],h=pa[oa].properties[Xt],f=pa[oa].properties[Yt],v=pa[oa].properties[Vt],b=pa[oa].properties[Zt],g=pa[oa].properties[Ht],y=pa[oa].properties[Ft],m=pa[oa].properties[Jt],T=pa[oa].properties[Ut],N=pa[oa].properties[Wt],sa="Neighborhood Tabulation Area: "+pa[oa].properties.ntaBK;break;case"srchNTAQN":for(var c in ha)s.push(ha[c].properties.NTACode);oa=s.indexOf(gt),p=ha[oa].properties[Kt],u=ha[oa].properties[Qt],d=ha[oa].properties[qt],h=ha[oa].properties[Xt],f=ha[oa].properties[Yt],v=ha[oa].properties[Vt],b=ha[oa].properties[Zt],g=ha[oa].properties[Ht],y=ha[oa].properties[Ft],m=ha[oa].properties[Jt],T=ha[oa].properties[Ut],N=ha[oa].properties[Wt],sa="Neighborhood Tabulation Area: "+ha[oa].properties.ntaQN;break;case"srchNTAMN":for(var c in da)n.push(da[c].properties.NTACode);oa=n.indexOf(yt),p=da[oa].properties[Kt],u=da[oa].properties[Qt],d=da[oa].properties[qt],h=da[oa].properties[Xt],f=da[oa].properties[Yt],v=da[oa].properties[Vt],b=da[oa].properties[Zt],g=da[oa].properties[Ht],y=da[oa].properties[Ft],m=da[oa].properties[Jt],T=da[oa].properties[Ut],N=da[oa].properties[Wt],sa="Neighborhood Tabulation Area: "+da[oa].properties.ntaMN;break;case"srchNTABX":for(var c in ua)i.push(ua[c].properties.NTACode);oa=i.indexOf(mt),p=ua[oa].properties[Kt],u=ua[oa].properties[Qt],d=ua[oa].properties[qt],h=ua[oa].properties[Xt],f=ua[oa].properties[Yt],v=ua[oa].properties[Vt],b=ua[oa].properties[Zt],g=ua[oa].properties[Ht],y=ua[oa].properties[Ft],m=ua[oa].properties[Jt],T=ua[oa].properties[Ut],N=ua[oa].properties[Wt],sa="Neighborhood Tabulation Area: "+ua[oa].properties.ntaBX;break;case"srchNTASI":for(var c in fa)l.push(fa[c].properties.NTACode);oa=l.indexOf(Tt),p=fa[oa].properties[Kt],u=fa[oa].properties[Qt],d=fa[oa].properties[qt],h=fa[oa].properties[Xt],f=fa[oa].properties[Yt],v=fa[oa].properties[Vt],b=fa[oa].properties[Zt],g=fa[oa].properties[Ht],y=fa[oa].properties[Ft],m=fa[oa].properties[Jt],T=fa[oa].properties[Ut],N=fa[oa].properties[Wt],sa="Neighborhood Tabulation Area: "+fa[oa].properties.ntaSI}var A=$(".srchlnamtVal"),C=$(".srchjbrtVal"),S=$(".srchCntVal"),B=$(".srchlnamtResRatioVal"),w=$(".srchjbrtResRatioVal"),k=$(".srchCntResRatioVal"),L=$(".srchlnamtBusRatioVal"),R=$(".srchjbrtBusRatioVal"),P=$(".srchCntBusRatioVal"),M=$(".srchlnamtOthRatioVal"),D=$(".srchjbrtOthRatioVal"),E=$(".srchCntOthRatioVal"),I=$(".srchlnamtTotRatioVal"),O=$(".srchjbrtTotRatioVal"),_=$(".srchCntTotRatioVal");A.empty(),C.empty(),S.empty(),B.empty(),w.empty(),k.empty(),L.empty(),R.empty(),P.empty(),M.empty(),D.empty(),E.empty(),I.empty(),O.empty(),_.empty(),A.append('<span class="badge">'+At.format(ta)+"</span>"),C.append('<span class="badge">'+Ct(aa)+"</span>"),S.append('<span class="badge">'+Ct(ra)+"</span>"),B.append('<span class="badge">'+At.format(h)+"</span>"),w.append('<span class="badge">'+Ct(f)+"</span>"),k.append('<span class="badge">'+Ct(v)+"</span>"),L.append('<span class="badge">'+At.format(p)+"</span>"),R.append('<span class="badge">'+Ct(u)+"</span>"),P.append('<span class="badge">'+Ct(d)+"</span>"),M.append('<span class="badge">'+At.format(b)+"</span>"),D.append('<span class="badge">'+Ct(g)+"</span>"),E.append('<span class="badge">'+Ct(y)+"</span>"),I.append('<span class="badge">'+At.format(m)+"</span>"),O.append('<span class="badge">'+Ct(T)+"</span>"),_.append('<span class="badge">'+Ct(N)+"</span>"),$(".cardTitle").text(lt+": "+pt),$(".cardSubTitle").text(sa),"srchNTA"==ut||"srchNTABK"==ut||"srchNTAQN"==ut||"srchNTAMN"==ut||"srchNTABX"==ut||"srchNTASI"==ut?($(".geoCard").hide(),$(".ntaCard").show()):($(".geoCard").show(),$(".ntaCard").hide())};var va=["BuGn","BuPu","GnBu","OrRd","PuBu","PuBuGn","PuRd","RdPu","YlGn","YlGnBu","YlOrBr","YlOrRd"],ba=["Blues","Greens","Oranges","Purples","Reds"],ga=["BrBG","PRGn","PuOr","RdBu","RdYlGn"];!function(){var e=$(".seqMultiHue");$.each(va,(function(t,a){e.append('<button type="button" class="btn btn-clr chngClr btnClr '+a+'" value="'+a+'"></button>')}));var t=$(".seqSingleHue");$.each(ba,(function(e,a){t.append('<button type="button" class="btn btn-clr chngClr btnClr '+a+'" value="'+a+'"></button>')}));var a=$(".divHue");$.each(ga,(function(e,t){a.append('<button type="button" class="btn btn-clr chngClr btnClr '+t+'" value="'+t+'"></button>')}))}(),$((function(){$(".BuGn").addClass("btn-active")})),$(".btnClr").on("click",(function(){$(this).addClass("btn-active").removeClass("btn-not-active btn-active-hover"),$(".btnClr").not($(this)).addClass("btn-not-active"),$(".btnClr").not($(this)).removeClass("btn-active")})),$(".btnClr").on("mouseenter",(function(){$(this).addClass("btn-hover"),$(".btnClr").not(this).addClass("btn-not-hover"),$(this).hasClass("btn-not-active")&&($(this).removeClass("btn-not-active"),$(this).addClass("btn-active-hover"))})),$(".btnClr").on("mouseleave",(function(){$(this).removeClass("btn-hover"),$(".btnClr").not(this).removeClass("btn-not-hover"),$(this).hasClass("btn-active-hover")&&($(this).removeClass("btn-active-hover"),$(this).addClass("btn-not-active"))})),document.getElementsByClassName("btn");var ya,ma,Ta,Na=L.control();Na.onAdd=function(e){return this._div=L.DomUtil.create("div","info"),this.update(),this._div},Na.update=function(e){var t,a=0;rt.eachLayer((function(){a+=1})),me&&Te&&Ne&&Ae&&a>1?("lnamt"==Te?e&&(t=At.format(e[$e])):e&&(t=Ct(e[$e])),this._div.innerHTML=e?"<h6>"+ya+"</h6><b>"+t+"</b><br />"+ma+": "+e[Ta]:"<h5>Hover over a "+ma+"</h5>"):this._div.innerHTML='<h6 style="text-align: center">Select from the Dropdown<br>to Create Map</h6>'},Na.addTo(rt);var Aa=[];function Ca(e){var t=e.target;Aa.includes(t.feature.properties[Ta])?console.log("HEYyyyyy"):(t.setStyle({weight:5,color:"#666",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||L.Browser.edge||t.bringToFront()),Na.update(t.feature.properties)}function Sa(e){var t=e.target;Aa.includes(t.feature.properties[Ta])?console.log("Yooooo"):t.setStyle({weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}),Na.update()}var $a,Ba,wa,ka,La,Ra,Pa,Ma,Da,Ea,Ia=[],Oa=[],_a=[],Ga=[],xa=[],ja=[],za=[],Ka=[],Qa=[],qa=L.geoJSON.ajax("../data/boro.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:Ca,mouseout:Sa}),_a.push(a.boro.toString())}}),Xa=L.geoJSON.ajax("../data/congdist.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:Ca,mouseout:Sa}),Oa.push(a.congdist.toString())}}),Ya=L.geoJSON.ajax("../data/zcta.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:Ca,mouseout:Sa}),Ia.push(a.zcta.toString())}}),Va=L.geoJSON.ajax("../data/nta.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:Ca,mouseout:Sa}),Ga.push(a.nta.toString())}}),Za=L.geoJSON.ajax("../data/ntaBK.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:Ca,mouseout:Sa}),xa.push(a.ntaBK.toString())}}),Ha=L.geoJSON.ajax("../data/ntaQN.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:Ca,mouseout:Sa}),ja.push(a.ntaQN.toString())}}),Fa=L.geoJSON.ajax("../data/ntaMN.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:Ca,mouseout:Sa}),za.push(a.ntaMN.toString())}}),Ja=L.geoJSON.ajax("../data/ntaBX.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:Ca,mouseout:Sa}),Ka.push(a.ntaBX.toString())}}),Ua=L.geoJSON.ajax("../data/ntaSI.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:Ca,mouseout:Sa}),Qa.push(a.ntaSI.toString())}}),Wa=document.getElementsByClassName("chngClr");function er(){switch($a=$(this).attr("value"),Ae){case"congdist":Xa.setStyle(rr).addTo(rt),at();break;case"zcta":Ya.setStyle(or).addTo(rt),at();break;case"boro":qa.setStyle(ar).addTo(rt),at();break;case"nta":switch(Ce){case"nta":Va.setStyle(nr).addTo(rt),at();break;case"ntaBK":Za.setStyle(sr).addTo(rt),at();break;case"ntaQN":Ha.setStyle(ir).addTo(rt),at();break;case"ntaBX":Ja.setStyle(cr).addTo(rt),at();break;case"ntaMN":Fa.setStyle(lr).addTo(rt),at();break;case"ntaSI":Ua.setStyle(pr).addTo(rt),at()}}}document.getElementsByClassName("chngClassify"),document.getElementsByClassName("chngNumClasses"),$(".chngClassify").change((function(){Ba=$(this).prop("checked")?"equal_interval":"quantile"})),wa=3,Ba="equal_interval",$a="BuGn";for(var tr=0;tr<Wa.length;tr++)Wa[tr].addEventListener("click",er);function ar(e){for(var t=[],a=0;a<boro.features.length;a++)null!=boro.features[a].properties[$e]&&t.push(boro.features[a].properties[$e]);return Nt.setSeries(t),Nt.setNumClasses(wa),Nt.classify(Ba),Nt.setColorCode($a),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[$e])}}function rr(e){for(var t=[],a=0;a<congdist.features.length;a++)null!=congdist.features[a].properties[$e]&&t.push(congdist.features[a].properties[$e]);return Nt.setSeries(t),Nt.classify(Ba,wa),Nt.setColorCode($a),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[$e])}}function or(e){for(var t=[],a=0;a<zcta.features.length;a++)null!=zcta.features[a].properties[$e]&&t.push(zcta.features[a].properties[$e]);return Nt.setSeries(t),Nt.classify(Ba,wa),Nt.setColorCode($a),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[$e])}}function sr(e){for(var t=[],a=0;a<ntaBK.features.length;a++)null!=ntaBK.features[a].properties[$e]&&t.push(ntaBK.features[a].properties[$e]);return Nt.setSeries(t),Nt.classify(Ba,wa),Nt.setColorCode($a),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[$e])}}function nr(e){for(var t=[],a=0;a<nta.features.length;a++)null!=nta.features[a].properties[$e]&&t.push(nta.features[a].properties[$e]);return Nt.setSeries(t),Nt.classify(Ba,wa),Nt.setColorCode($a),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[$e])}}function ir(e){for(var t=[],a=0;a<ntaQN.features.length;a++)null!=ntaQN.features[a].properties[$e]&&t.push(ntaQN.features[a].properties[$e]);return Nt.setSeries(t),Nt.classify(Ba,wa),Nt.setColorCode($a),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[$e])}}function lr(e){for(var t=[],a=0;a<ntaMN.features.length;a++)null!=ntaMN.features[a].properties[$e]&&t.push(ntaMN.features[a].properties[$e]);return Nt.setSeries(t),Nt.classify(Ba,wa),Nt.setColorCode($a),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[$e])}}function cr(e){for(var t=[],a=0;a<ntaBX.features.length;a++)null!=ntaBX.features[a].properties[$e]&&t.push(ntaBX.features[a].properties[$e]);return Nt.setSeries(t),Nt.classify(Ba,wa),Nt.setColorCode($a),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[$e])}}function pr(e){for(var t=[],a=0;a<ntaSI.features.length;a++)null!=ntaSI.features[a].properties[$e]&&t.push(ntaSI.features[a].properties[$e]);return Nt.setSeries(t),Nt.classify(Ba,wa),Nt.setColorCode($a),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[$e])}}$(".chngClassify").change((function(){switch(Ae){case"congdist":Xa.setStyle(rr).addTo(rt),at();break;case"zcta":Ya.setStyle(or).addTo(rt),at();break;case"boro":qa.setStyle(ar).addTo(rt),at();break;case"nta":switch(Ce){case"nta":Va.setStyle(nr).addTo(rt),at();break;case"ntaBK":Za.setStyle(sr).addTo(rt),at();break;case"ntaQN":Ha.setStyle(ir).addTo(rt),at();break;case"ntaBX":Ja.setStyle(cr).addTo(rt),at();break;case"ntaMN":Fa.setStyle(lr).addTo(rt),at();break;case"ntaSI":Ua.setStyle(pr).addTo(rt),at()}}})),$("#numClass").change((function(){switch(wa=st,Ae){case"congdist":Xa.setStyle(rr).addTo(rt),at();break;case"zcta":Ya.setStyle(or).addTo(rt),at();break;case"boro":qa.setStyle(ar).addTo(rt),at();break;case"nta":switch(Ce){case"nta":Va.setStyle(nr).addTo(rt),at();break;case"ntaBK":Za.setStyle(sr).addTo(rt),at();break;case"ntaQN":Ha.setStyle(ir).addTo(rt),at();break;case"ntaBX":Ja.setStyle(cr).addTo(rt),at();break;case"ntaMN":Fa.setStyle(lr).addTo(rt),at();break;case"ntaSI":Ua.setStyle(pr).addTo(rt),at()}}})),$(".slctGrps,.grpMet,.grpCat,.grpMap, .grpNTAMap, .grpNTARatio").on("click",(function(){!function(){if(rt.eachLayer((function(e){1!=e.layerID&&2!=e.layerID&&3!=e.layerID&&4!=e.layerID&&(rt.removeLayer(e),rt.removeControl(tt))})),"nta"==Ae){if(Te&&me&&Ne&&Ae&&Se)switch(Ce){case"nta":Va.setStyle(nr).addTo(rt),at();break;case"ntaBK":Za.setStyle(sr).addTo(rt),at();break;case"ntaQN":Ha.setStyle(ir).addTo(rt),at();break;case"ntaBX":Ja.setStyle(cr).addTo(rt),at();break;case"ntaMN":Fa.setStyle(lr).addTo(rt),at();break;case"ntaSI":Ua.setStyle(pr).addTo(rt),at()}}else if(Te&&me&&Ne&&Ae)switch(Ae){case"congdist":Xa.setStyle(rr).addTo(rt),at();break;case"zcta":Ya.setStyle(or).addTo(rt),at();break;case"boro":qa.setStyle(ar).addTo(rt),at()}}(),function(){switch(Te){case"jbrt":ya="Jobs Retained";break;case"lnamt":ya="Loan Amount";break;case"cnt":ya="Business Count"}switch(Ae){case"congdist":ma="Congressional District",Ta="congdist";break;case"zcta":ma="Zip Code Tabulation Area",Ta="zcta";break;case"boro":ma="Borough",Ta="boro";break;case"nta":switch(Ce){case"nta":ma="Neighborhood Tabulation Area",Ta="nta";break;case"ntaBK":ma="Neighborhood Tabulation Area - BK",Ta="ntaBK";break;case"ntaQN":ma="Neighborhood Tabulation Area - QN",Ta="ntaQN";break;case"ntaMN":ma="Neighborhood Tabulation Area - MN",Ta="ntaMN";break;case"ntaBX":ma="Neighborhood Tabulation Area - BX",Ta="ntaQN";break;case"ntaSI":ma="Neighborhood Tabulation Area - SI",Ta="ntaSI"}}}(),Na.update()})),a(927),$.each(G,(function(e,t){E+=1,Ee.append('<div class="option hvr-icon-fade"><input type="radio" class="radio slctCat2" value="'+e+'" /><label for="'+e+'"><i class="'+p[E]+'"></i><span class="label">'+t+"</span></label></div>")})),$.each(j,(function(e,t){Ie.append('<div class="option '+e+'2"><input type="radio" class="radio slctMet2" value="'+e+'" /><label for="'+e+'">'+t+"</label></div>")})),$.each(K,(function(e,t){Oe.append('<div class="option"><input type="radio" class="radio slctAttr2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(q,(function(e,t){_e.append('<div class="option"><input type="radio" class="radio slctAttr2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(Y,(function(e,t){Ge.append('<div class="option"><input type="radio" class="radio slctAttr2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(Z,(function(e,t){xe.append('<div class="option"><input type="radio" class="radio slctAttr2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(F,(function(e,t){je.append('<div class="option"><input type="radio" class="radio slctAttr2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(U,(function(e,t){ze.append('<div class="option"><input type="radio" class="radio slctAttr2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(te,(function(e,t){Ke.append('<div class="option"><input type="radio" class="radio slctMap2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(re,(function(e,t){Qe.append('<div class="option"><input type="radio" class="radio slctNTAMap2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(ie,(function(e,t){qe.append('<div class="option"><input type="radio" class="radio slctNTARatio2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")}));var ur,dr,hr,fr,vr,br,gr,yr,mr,Tr,Nr,Ar,Cr,Sr,$r=document.querySelectorAll(".selected2");$(".grpCat2, .grpNTAMap2, .grpNTARatio2, .grpMet2, .grpMap2").hide(),$r.forEach((function(e){var t=e.previousElementSibling,a=t.querySelectorAll(".option");e.addEventListener("click",(function(){if(t.classList.contains("active"))t.classList.remove("active");else{var r=document.querySelector(".options-container.active");r&&r.classList.remove("active"),t.classList.add("active")}t.classList.contains("drpCat2")&&a.forEach((function(t){t.addEventListener("click",(function(){ka=t.querySelector(".slctCat2").value,e.setAttribute("value",ka),$(".grpCat2").not("#"+ka+2).hide(),$("#"+ka+2).show(),$(".grpMap2, .grpMet2").show(),$(".grpNTAMap2, .grpNTARatio2").hide(),$(".grpCat2 .selected2").attr("value","").text("Please Select"),$(".grpMet2 .selected2").attr("value","").text("Please Select"),$(".grpMap2 .selected2").attr("value","").text("Please Select"),$(".grpNTAMap2 .selected2").attr("value","").text("Please Select"),$(".grpNTARatio2 .selected2").attr("value","").text("Please Select"),Ra="",La="",Pa="",Da="",Ma=""}))})),t.classList.contains("drpMet2")&&a.forEach((function(t){t.addEventListener("click",(function(){La=t.querySelector(".slctMet2").value,e.setAttribute("value",La)}))})),t.classList.contains("drpAttr2")&&a.forEach((function(t){t.addEventListener("click",(function(){Ra=t.querySelector(".slctAttr2").value,e.setAttribute("value",Ra)}))})),t.classList.contains("drpMap2")&&a.forEach((function(t){t.addEventListener("click",(function(){Pa=t.querySelector(".slctMap2").value,e.setAttribute("value",Pa),"nta"===Pa?$("#nta2, #ntaRatio2").show():($(".grpNTAMap2, .grpNTARatio2").not("#"+Pa).hide(),$(".grpNTAMap2 .selected2").attr("value","").text("Select a NTA Geo"),$(".grpNTARatio2 .selected2").attr("value","").text("Select a Ratio"),Da="",Ma="")}))})),t.classList.contains("drpNTARatio2")&&a.forEach((function(t){t.addEventListener("click",(function(){Da=t.querySelector(".slctNTARatio2").value,e.setAttribute("value",Da)}))})),t.classList.contains("drpNTAMap2")&&a.forEach((function(t){t.addEventListener("click",(function(){Ma=t.querySelector(".slctNTAMap2").value,e.setAttribute("value",Ma)}))}))})),a.forEach((function(a){a.addEventListener("click",(function(){e.innerHTML=a.querySelector("label").innerHTML,t.classList.remove("active")}))}))})),$(".slctGrps2,.grpMet2,.grpCat2,.grpMap2, .grpNTAMap2, .grpNTARatio2").on("click",(function(){Ea=Da?ka+"_"+La+"_"+Da+"_"+Ra:ka+"_"+La+"_"+Ra})),a(110),$.each(G,(function(e,t){D+=1,Xe.append('<div class="option hvr-icon-fade"><input type="radio" class="radio srchSlctCat2" value="srch'+e+'2" /><label for="srch'+e+'2"><i class="'+p[D]+'"></i><span class="label">'+t+"</span></label></div>")})),$.each(K,(function(e,t){Ye.append('<div class="option"><input type="radio" class="radio srchSlctAttr2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(q,(function(e,t){Ve.append('<div class="option"><input type="radio" class="radio srchSlctAttr2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(Y,(function(e,t){Ze.append('<div class="option"><input type="radio" class="radio srchSlctAttr2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(Z,(function(e,t){He.append('<div class="option"><input type="radio" class="radio srchSlctAttr2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(F,(function(e,t){Fe.append('<div class="option"><input type="radio" class="radio srchSlctAttr2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(U,(function(e,t){Je.append('<div class="option"><input type="radio" class="radio srchSlctAttr2" value="'+e+'"/><label for="'+e+'">'+t+"</label></div>")})),$.each(se,(function(e,t){Ue.append('<div class="option"><input type="radio" class="radio srchSlctMap2" value="'+e+'2"/><label for="'+e+'">'+t+"</label></div>")}));var Br,wr,kr,Lr,Rr,Pr,Mr,Dr,Er,Ir,Or,_r,Gr,xr,jr,zr,Kr=document.querySelectorAll(".srchSelected2");$(".srchGrpAttr2, .srchGrpGeo2").hide(),$(".ntaCard2, .geoCard2").hide(),$("#srchBtn2").addClass("disabled").prop("disabled",!0),Kr.forEach((function(e){var t=e.previousElementSibling,a=t.querySelectorAll(".option");e.addEventListener("click",(function(){if(t.classList.contains("active"))t.classList.remove("active");else{var r=document.querySelector(".options-container.active");r&&r.classList.remove("active"),t.classList.add("active")}t.classList.contains("srchDrpCat2")&&a.forEach((function(t){t.addEventListener("click",(function(){ur=t.querySelector(".srchSlctCat2").value,e.setAttribute("value",ur),dr=e.textContent,$(".srchGrpAttr2").not("#"+ur).hide(),$("#"+ur).show(),$(".srchGrpAttr2 .srchSelected2").attr("value","").text("Please Select"),fr=""}))})),t.classList.contains("srchDrpAttr2")&&a.forEach((function(t){t.addEventListener("click",(function(){fr=t.querySelector(".srchSlctAttr2").value,e.setAttribute("value",fr),hr=e.textContent}))})),t.classList.contains("srchDrpMap2")&&a.forEach((function(t){t.addEventListener("click",(function(){vr=t.querySelector(".srchSlctMap2").value,e.setAttribute("value",vr),$(".srchGrpGeo2").not("#"+vr).hide(),$("#"+vr).show(),$(".srchGrpGeo2 .srchSelected2").attr("value","").text("Please Select"),br="",gr="",yr="",mr="",Tr="",Nr="",Ar="",Cr="",Sr=""}))})),t.classList.contains("srchDrpBoro2")&&a.forEach((function(t){t.addEventListener("click",(function(){br=t.querySelector(".srchSlctBoro2").value,e.setAttribute("value",br)}))})),t.classList.contains("srchDrpCongDist2")&&a.forEach((function(t){t.addEventListener("click",(function(){gr=t.querySelector(".srchSlctCongDist2").value,e.setAttribute("value",gr)}))})),t.classList.contains("srchDrpZCTA2")&&a.forEach((function(t){t.addEventListener("click",(function(){yr=t.querySelector(".srchSlctZCTA2").value,e.setAttribute("value",yr)}))})),t.classList.contains("srchDrpNTA2")&&a.forEach((function(t){t.addEventListener("click",(function(){mr=t.querySelector(".srchSlctNTA2").value,e.setAttribute("value",mr)}))})),t.classList.contains("srchDrpNTABK2")&&a.forEach((function(t){t.addEventListener("click",(function(){Tr=t.querySelector(".srchSlctNTABK2").value,e.setAttribute("value",Tr)}))})),t.classList.contains("srchDrpNTAQN2")&&a.forEach((function(t){t.addEventListener("click",(function(){Nr=t.querySelector(".srchSlctNTAQN2").value,e.setAttribute("value",Nr)}))})),t.classList.contains("srchDrpNTAMN2")&&a.forEach((function(t){t.addEventListener("click",(function(){Ar=t.querySelector(".srchSlctNTAMN2").value,e.setAttribute("value",Ar)}))})),t.classList.contains("srchDrpNTABX2")&&a.forEach((function(t){t.addEventListener("click",(function(){Cr=t.querySelector(".srchSlctNTABX2").value,e.setAttribute("value",Cr)}))})),t.classList.contains("srchDrpNTASI2")&&a.forEach((function(t){t.addEventListener("click",(function(){Sr=t.querySelector(".srchSlctNTASI2").value,e.setAttribute("value",Sr)}))}))})),a.forEach((function(a){a.addEventListener("click",(function(){e.innerHTML=a.querySelector("label").innerHTML,t.classList.remove("active")}))}))})),$(".srchGrpCat2,.srchGrpAttr2,.srchGrpGeo2, .srchGrpMap2").on("click",(function(){fr&&ur&&vr&&(br||gr||yr||mr||Tr||Nr||Ar||Cr||Sr)?$("#srchBtn2").removeClass("disabled").prop("disabled",!1):($("#srchBtn2").addClass("disabled").prop("disabled",!0),console.log(fr),console.log(ur),console.log(vr),console.log(br)),ur&&(Lr=ur.split("srch").pop().slice(0,-1)),"srchNTA2"==vr||"srchNTABK2"==vr||"srchNTAQN2"==vr||"srchNTAMN2"==vr||"srchNTABX2"==vr||"srchNTASI2"==vr?(Rr=Lr+"_lnamt_BusRatio_"+fr,Pr=Lr+"_jbrt_BusRatio_"+fr,Mr=Lr+"_cnt_BusRatio_"+fr,Dr=Lr+"_lnamt_ResRatio_"+fr,Er=Lr+"_jbrt_ResRatio_"+fr,Ir=Lr+"_cnt_ResRatio_"+fr,Or=Lr+"_lnamt_OthRatio_"+fr,_r=Lr+"_jbrt_OthRatio_"+fr,Gr=Lr+"_cnt_OthRatio_"+fr,xr=Lr+"_lnamt_TotRatio_"+fr,jr=Lr+"_jbrt_TotRatio_"+fr,zr=Lr+"_cnt_TotRatio_"+fr):(Br=Lr+"_lnamt_"+fr,wr=Lr+"_jbrt_"+fr,kr=Lr+"_cnt_"+fr)}));var Qr,qr,Xr,Yr,Vr,Zr,Hr,Fr,Jr,Ur,Wr,eo,to,ao,ro,oo,so,no,io=congdist.features,lo=boro.features,co=zcta.features,po=nta.features,uo=ntaBK.features,ho=ntaBX.features,fo=ntaMN.features,vo=ntaQN.features,bo=ntaSI.features;document.getElementById("srchBtn2").onclick=function(){var e=[],t=[],a=[],r=[],o=[],s=[],n=[],i=[],l=[];switch(console.log(Qr),vr){case"srchCongDist2":for(var c in io)e.push(io[c].properties.CD);oo=e.indexOf(gr),to=io[oo].properties[Br],ao=io[oo].properties[wr],ro=io[oo].properties[kr],so="Congressional District: "+io[oo].properties.CD;break;case"srchBoro2":for(var c in lo)t.push(lo[c].properties.boroID);oo=t.indexOf(br),to=lo[oo].properties[Br],ao=lo[oo].properties[wr],ro=lo[oo].properties[kr],so="Borough: "+lo[oo].properties.boro;break;case"srchZCTA2":for(var c in co)a.push(co[c].properties.zctaID);oo=a.indexOf(yr),to=co[oo].properties[Br],ao=co[oo].properties[wr],ro=co[oo].properties[kr],so="Zip Code Tabulation Area: "+co[oo].properties.zcta;break;case"srchNTA2":for(var c in po)r.push(po[c].properties.NTACode);oo=r.indexOf(mr),Qr=po[oo].properties[Rr],qr=po[oo].properties[Pr],Xr=po[oo].properties[Mr],Yr=po[oo].properties[Dr],Vr=po[oo].properties[Er],Zr=po[oo].properties[Ir],Hr=po[oo].properties[Or],Fr=po[oo].properties[_r],Jr=po[oo].properties[Gr],Ur=po[oo].properties[xr],Wr=po[oo].properties[jr],eo=po[oo].properties[zr],so="Neighborhood Tabulation Area: "+po[oo].properties.nta;break;case"srchNTABK2":for(var c in uo)o.push(uo[c].properties.NTACode);oo=o.indexOf(Tr),Qr=uo[oo].properties[Rr],qr=uo[oo].properties[Pr],Xr=uo[oo].properties[Mr],Yr=uo[oo].properties[Dr],Vr=uo[oo].properties[Er],Zr=uo[oo].properties[Ir],Hr=uo[oo].properties[Or],Fr=uo[oo].properties[_r],Jr=uo[oo].properties[Gr],Ur=uo[oo].properties[xr],Wr=uo[oo].properties[jr],eo=uo[oo].properties[zr],so="Neighborhood Tabulation Area: "+uo[oo].properties.ntaBK;break;case"srchNTAQN2":for(var c in vo)s.push(vo[c].properties.NTACode);oo=s.indexOf(Nr),Qr=vo[oo].properties[Rr],qr=vo[oo].properties[Pr],Xr=vo[oo].properties[Mr],Yr=vo[oo].properties[Dr],Vr=vo[oo].properties[Er],Zr=vo[oo].properties[Ir],Hr=vo[oo].properties[Or],Fr=vo[oo].properties[_r],Jr=vo[oo].properties[Gr],Ur=vo[oo].properties[xr],Wr=vo[oo].properties[jr],eo=vo[oo].properties[zr],so="Neighborhood Tabulation Area: "+vo[oo].properties.ntaQN;break;case"srchNTAMN2":for(var c in fo)n.push(fo[c].properties.NTACode);oo=n.indexOf(Ar),Qr=fo[oo].properties[Rr],qr=fo[oo].properties[Pr],Xr=fo[oo].properties[Mr],Yr=fo[oo].properties[Dr],Vr=fo[oo].properties[Er],Zr=fo[oo].properties[Ir],Hr=fo[oo].properties[Or],Fr=fo[oo].properties[_r],Jr=fo[oo].properties[Gr],Ur=fo[oo].properties[xr],Wr=fo[oo].properties[jr],eo=fo[oo].properties[zr],so="Neighborhood Tabulation Area: "+fo[oo].properties.ntaMN;break;case"srchNTABX2":for(var c in ho)i.push(ho[c].properties.NTACode);oo=i.indexOf(Cr),Qr=ho[oo].properties[Rr],qr=ho[oo].properties[Pr],Xr=ho[oo].properties[Mr],Yr=ho[oo].properties[Dr],Vr=ho[oo].properties[Er],Zr=ho[oo].properties[Ir],Hr=ho[oo].properties[Or],Fr=ho[oo].properties[_r],Jr=ho[oo].properties[Gr],Ur=ho[oo].properties[xr],Wr=ho[oo].properties[jr],eo=ho[oo].properties[zr],so="Neighborhood Tabulation Area: "+ho[oo].properties.ntaBX;break;case"srchNTASI2":for(var c in bo)l.push(bo[c].properties.NTACode);oo=l.indexOf(Sr),Qr=bo[oo].properties[Rr],qr=bo[oo].properties[Pr],Xr=bo[oo].properties[Mr],Yr=bo[oo].properties[Dr],Vr=bo[oo].properties[Er],Zr=bo[oo].properties[Ir],Hr=bo[oo].properties[Or],Fr=bo[oo].properties[_r],Jr=bo[oo].properties[Gr],Ur=bo[oo].properties[xr],Wr=bo[oo].properties[jr],eo=bo[oo].properties[zr],so="Neighborhood Tabulation Area: "+bo[oo].properties.ntaSI}var p=$(".srchlnamtVal2"),u=$(".srchjbrtVal2"),d=$(".srchCntVal2"),h=$(".srchlnamtResRatioVal2"),f=$(".srchjbrtResRatioVal2"),v=$(".srchCntResRatioVal2"),b=$(".srchlnamtBusRatioVal2"),g=$(".srchjbrtBusRatioVal2"),y=$(".srchCntBusRatioVal2"),m=$(".srchlnamtOthRatioVal2"),T=$(".srchjbrtOthRatioVal2"),N=$(".srchCntOthRatioVal2"),A=$(".srchlnamtTotRatioVal2"),C=$(".srchjbrtTotRatioVal2"),S=$(".srchCntTotRatioVal2");p.empty(),u.empty(),d.empty(),h.empty(),f.empty(),v.empty(),b.empty(),g.empty(),y.empty(),m.empty(),T.empty(),N.empty(),A.empty(),C.empty(),S.empty(),p.append('<span class="badge">'+At.format(to)+"</span>"),u.append('<span class="badge">'+Ct(ao)+"</span>"),d.append('<span class="badge">'+Ct(ro)+"</span>"),h.append('<span class="badge">'+At.format(Yr)+"</span>"),f.append('<span class="badge">'+Ct(Vr)+"</span>"),v.append('<span class="badge">'+Ct(Zr)+"</span>"),b.append('<span class="badge">'+At.format(Qr)+"</span>"),g.append('<span class="badge">'+Ct(qr)+"</span>"),y.append('<span class="badge">'+Ct(Xr)+"</span>"),m.append('<span class="badge">'+At.format(Hr)+"</span>"),T.append('<span class="badge">'+Ct(Fr)+"</span>"),N.append('<span class="badge">'+Ct(Jr)+"</span>"),A.append('<span class="badge">'+At.format(Ur)+"</span>"),C.append('<span class="badge">'+Ct(Wr)+"</span>"),S.append('<span class="badge">'+Ct(eo)+"</span>"),$(".cardTitle2").text(dr+": "+hr),$(".cardSubTitle2").text(so),"srchNTA2"==vr||"srchNTABK2"==vr||"srchNTAQN2"==vr||"srchNTAMN2"==vr||"srchNTABX2"==vr||"srchNTASI2"==vr?($(".geoCard2").hide(),$(".ntaCard2").show()):($(".geoCard2").show(),$(".ntaCard2").hide())},function(){var e=$(".seqMultiHue2");$.each(va,(function(t,a){e.append('<button type="button" class="btn btn-clr chngClr2 btnClr2 '+a+'2" value="'+a+'"></button>')}));var t=$(".seqSingleHue2");$.each(ba,(function(e,a){t.append('<button type="button" class="btn btn-clr chngClr2 btnClr2 '+a+'2" value="'+a+'"></button>')}));var a=$(".divHue2");$.each(ga,(function(e,t){a.append('<button type="button" class="btn btn-clr chngClr2 btnClr2 '+t+'2" value="'+t+'"></button>')}))}(),$((function(){$(".BuGn2").addClass("btn-active")})),$(".btnClr2").on("click",(function(){$(this).addClass("btn-active").removeClass("btn-not-active btn-active-hover"),$(".btnClr2").not($(this)).addClass("btn-not-active"),$(".btnClr2").not($(this)).removeClass("btn-active")})),$(".btnClr2").on("mouseenter",(function(){$(this).addClass("btn-hover"),$(".btnClr2").not(this).addClass("btn-not-hover"),$(this).hasClass("btn-not-active")&&($(this).removeClass("btn-not-active"),$(this).addClass("btn-active-hover"))})),$(".btnClr2").on("mouseleave",(function(){$(this).removeClass("btn-hover"),$(".btnClr2").not(this).removeClass("btn-not-hover"),$(this).hasClass("btn-active-hover")&&($(this).removeClass("btn-active-hover"),$(this).addClass("btn-not-active"))}));var go=L.control({position:"bottomleft"});function yo(){!function(){switch(La){case"jbrt":no="Jobs Retained";break;case"lnamt":no="Loan Amount";break;case"cnt":no="Business Count"}}(),go.addTo(ot)}go.onAdd=function(e){var t,a,r,o=L.DomUtil.create("div","info2 legend2"),s=Nt.getBreaks(),n=[];r='<div id="lgndtxt">'+no+"</div>";for(var i=0;i<s.length;i++){t=Math.floor(s[i]);var l,c,p=Math.floor(s[i+1]);a=Math.ceil(s[i+1]),"lnamt"==La?(l=At.format(t),c=At.format(a)):(l=Ct(t),c=Ct(a)),a&&n.push('<i style="background:'+Nt.getColorInRange(p)+'"></i> '+l+" &ndash; "+c)}return o.innerHTML=r+n.join("<br>"),o};var mo,To,No,Ao=L.control({position:"topleft"});Ao.onAdd=function(e){return this._div=L.DomUtil.create("div","info2"),this.update(),this._div},Ao.update=function(e){var t,a=0;ot.eachLayer((function(){a+=1})),ka&&La&&Ra&&Pa&&a>1?("lnamt"==La?e&&(t=At.format(e[Ea])):e&&(t=Ct(e[Ea])),this._div.innerHTML=e?"<h6>"+mo+"</h6><b>"+t+"</b><br />"+To+": "+e[No]:"<h5>Hover over a "+To+"</h5>"):this._div.innerHTML='<h6 style="text-align: center">Select from the Dropdown<br>to Create Map</h6>'},Ao.addTo(ot);var Co=[];function So(e){var t=e.target;Co.includes(t.feature.properties[No])||(t.setStyle({weight:5,color:"#666",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||L.Browser.edge||t.bringToFront()),Ao.update(t.feature.properties)}function $o(e){var t=e.target;Co.includes(t.feature.properties[No])||t.setStyle({weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}),Ao.update()}var Bo,wo,ko,Lo=[],Ro=[],Po=[],Mo=[],Do=[],Eo=[],Io=[],Oo=[],_o=[],Go=L.geoJSON.ajax("../data/boro.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:So,mouseout:$o}),Po.push(a.boro.toString())}}),xo=L.geoJSON.ajax("../data/congdist.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:So,mouseout:$o}),Ro.push(a.congdist.toString())}}),jo=L.geoJSON.ajax("../data/zcta.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:So,mouseout:$o}),Lo.push(a.zcta.toString())}}),zo=L.geoJSON.ajax("../data/nta.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:So,mouseout:$o}),Mo.push(a.nta.toString())}}),Ko=L.geoJSON.ajax("../data/ntaBK.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:So,mouseout:$o}),Do.push(a.ntaBK.toString())}}),Qo=L.geoJSON.ajax("../data/ntaQN.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:So,mouseout:$o}),Eo.push(a.ntaQN.toString())}}),qo=L.geoJSON.ajax("../data/ntaMN.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:So,mouseout:$o}),Io.push(a.ntaMN.toString())}}),Xo=L.geoJSON.ajax("../data/ntaBX.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:So,mouseout:$o}),Oo.push(a.ntaBX.toString())}}),Yo=L.geoJSON.ajax("../data/ntaSI.geojson",{onEachFeature:function(e,t){var a=e.properties;t.on({mouseover:So,mouseout:$o}),_o.push(a.ntaSI.toString())}}),Vo=document.getElementsByClassName("chngClr2");function Zo(){switch(Bo=$(this).attr("value"),Pa){case"congdist":xo.setStyle(Jo).addTo(ot),yo();break;case"zcta":jo.setStyle(Uo).addTo(ot),yo();break;case"boro":Go.setStyle(Fo).addTo(ot),yo();break;case"nta":switch(Ma){case"nta":zo.setStyle(es).addTo(ot),yo();break;case"ntaBK":Ko.setStyle(Wo).addTo(ot),yo();break;case"ntaQN":Qo.setStyle(ts).addTo(ot),yo();break;case"ntaBX":Xo.setStyle(rs).addTo(ot),yo();break;case"ntaMN":qo.setStyle(as).addTo(ot),yo();break;case"ntaSI":Yo.setStyle(os).addTo(ot),yo()}}}document.getElementsByClassName("chngClassify2"),document.getElementsByClassName("chngNumClasses2"),$(".chngClassify2").change((function(){wo=$(this).prop("checked")?"equal_interval":"quantile"})),ko=3,wo="equal_interval",Bo="BuGn";for(var Ho=0;Ho<Vo.length;Ho++)Vo[Ho].addEventListener("click",Zo);function Fo(e){for(var t=[],a=0;a<boro.features.length;a++)null!=boro.features[a].properties[Ea]&&t.push(boro.features[a].properties[Ea]);return Nt.setSeries(t),Nt.setNumClasses(ko),Nt.classify(wo),Nt.setColorCode(Bo),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[Ea])}}function Jo(e){for(var t=[],a=0;a<congdist.features.length;a++)null!=congdist.features[a].properties[Ea]&&t.push(congdist.features[a].properties[Ea]);return Nt.setSeries(t),Nt.classify(wo,ko),Nt.setColorCode(Bo),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[Ea])}}function Uo(e){for(var t=[],a=0;a<zcta.features.length;a++)null!=zcta.features[a].properties[Ea]&&t.push(zcta.features[a].properties[Ea]);return Nt.setSeries(t),Nt.classify(wo,ko),Nt.setColorCode(Bo),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[Ea])}}function Wo(e){for(var t=[],a=0;a<ntaBK.features.length;a++)null!=ntaBK.features[a].properties[Ea]&&t.push(ntaBK.features[a].properties[Ea]);return Nt.setSeries(t),Nt.classify(wo,ko),Nt.setColorCode(Bo),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[Ea])}}function es(e){for(var t=[],a=0;a<nta.features.length;a++)null!=nta.features[a].properties[Ea]&&t.push(nta.features[a].properties[Ea]);return Nt.setSeries(t),Nt.classify(wo,ko),Nt.setColorCode(Bo),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[Ea])}}function ts(e){for(var t=[],a=0;a<ntaQN.features.length;a++)null!=ntaQN.features[a].properties[Ea]&&t.push(ntaQN.features[a].properties[Ea]);return Nt.setSeries(t),Nt.classify(wo,ko),Nt.setColorCode(Bo),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[Ea])}}function as(e){for(var t=[],a=0;a<ntaMN.features.length;a++)null!=ntaMN.features[a].properties[Ea]&&t.push(ntaMN.features[a].properties[Ea]);return Nt.setSeries(t),Nt.classify(wo,ko),Nt.setColorCode(Bo),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[Ea])}}function rs(e){for(var t=[],a=0;a<ntaBX.features.length;a++)null!=ntaBX.features[a].properties[Ea]&&t.push(ntaBX.features[a].properties[Ea]);return Nt.setSeries(t),Nt.classify(wo,ko),Nt.setColorCode(Bo),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[Ea])}}function os(e){for(var t=[],a=0;a<ntaSI.features.length;a++)null!=ntaSI.features[a].properties[Ea]&&t.push(ntaSI.features[a].properties[Ea]);return Nt.setSeries(t),Nt.classify(wo,ko),Nt.setColorCode(Bo),{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:Nt.getColorInRange(e.properties[Ea])}}$(".chngClassify2").change((function(){switch(Pa){case"congdist":xo.setStyle(Jo).addTo(ot),yo();break;case"zcta":jo.setStyle(Uo).addTo(ot),yo();break;case"boro":Go.setStyle(Fo).addTo(ot),yo();break;case"nta":switch(Ma){case"nta":zo.setStyle(es).addTo(ot),yo();break;case"ntaBK":Ko.setStyle(Wo).addTo(ot),yo();break;case"ntaQN":Qo.setStyle(ts).addTo(ot),yo();break;case"ntaBX":Xo.setStyle(rs).addTo(ot),yo();break;case"ntaMN":qo.setStyle(as).addTo(ot),yo();break;case"ntaSI":Yo.setStyle(os).addTo(ot),yo()}}})),$("#numClass2").change((function(){switch(ko=nt,Pa){case"congdist":xo.setStyle(Jo).addTo(ot),yo();break;case"zcta":jo.setStyle(Uo).addTo(ot),yo();break;case"boro":Go.setStyle(Fo).addTo(ot),yo();break;case"nta":switch(Ma){case"nta":zo.setStyle(es).addTo(ot),yo();break;case"ntaBK":Ko.setStyle(Wo).addTo(ot),yo();break;case"ntaQN":Qo.setStyle(ts).addTo(ot),yo();break;case"ntaBX":Xo.setStyle(rs).addTo(ot),yo();break;case"ntaMN":qo.setStyle(as).addTo(ot),yo();break;case"ntaSI":Yo.setStyle(os).addTo(ot),yo()}}})),$(".slctGrps2,.grpMet2,.grpCat2,.grpMap2, .grpNTAMap2, .grpNTARatio2").on("click",(function(){!function(){if(ot.eachLayer((function(e){5!=e.layerID2&&6!=e.layerID2&&7!=e.layerID2&&8!=e.layerID2&&(ot.removeLayer(e),ot.removeControl(go))})),"nta"==Pa){if(La&&ka&&Ra&&Pa&&Da)switch(Ma){case"nta":zo.setStyle(es).addTo(ot),yo();break;case"ntaBK":Ko.setStyle(Wo).addTo(ot),yo();break;case"ntaQN":Qo.setStyle(ts).addTo(ot),yo();break;case"ntaBX":Xo.setStyle(rs).addTo(ot),yo();break;case"ntaMN":qo.setStyle(as).addTo(ot),yo();break;case"ntaSI":Yo.setStyle(os).addTo(ot),yo()}}else if(La&&ka&&Ra&&Pa)switch(Pa){case"congdist":xo.setStyle(Jo).addTo(ot),yo();break;case"zcta":jo.setStyle(Uo).addTo(ot),yo();break;case"boro":Go.setStyle(Fo).addTo(ot),yo()}}(),function(){switch(La){case"jbrt":mo="Jobs Retained";break;case"lnamt":mo="Loan Amount";break;case"cnt":mo="Business Count"}switch(Pa){case"congdist":To="Congressional District",No="congdist";break;case"zcta":To="Zip Code Tabulation Area",No="zcta";break;case"boro":To="Borough",No="boro";break;case"nta":switch(Ma){case"nta":To="Neighborhood Tabulation Area",No="nta";break;case"ntaBK":To="Neighborhood Tabulation Area - BK",No="ntaBK";break;case"ntaQN":To="Neighborhood Tabulation Area - QN",No="ntaQN";break;case"ntaMN":To="Neighborhood Tabulation Area - MN",No="ntaMN";break;case"ntaBX":To="Neighborhood Tabulation Area - BX",No="ntaQN";break;case"ntaSI":To="Neighborhood Tabulation Area - SI",No="ntaSI"}}}(),Ao.update()})),a(496)})()})();